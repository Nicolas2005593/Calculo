<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ecuaciones con fracciones + bot parlante</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body{margin:0;font-family:Arial,Helvetica,sans-serif;display:flex;height:100vh}
  .panel{flex:1;padding:22px;overflow:auto}
  h1{font-size:1.2rem;margin-top:0}
  input,button{font-size:1rem;padding:6px 8px;margin:10px 0;width:100%}
  button{background:#1976d2;color:#fff;border:none;border-radius:4px;cursor:pointer}
  button:hover{background:#145ca3}
  #resultados{background:#fff;border:1px solid #ddd;padding:12px;border-radius:6px}
  canvas{width:100%;background:#fff;border:1px solid #ddd;border-radius:6px;margin-top:20px}
  .chat-container{flex:0 0 300px;border-left:2px solid #ddd;background:#fff;display:flex;flex-direction:column}
  .chat-header{background:#1976d2;color:#fff;text-align:center;padding:10px;font-weight:bold}
  .chat-body{flex:1;overflow:auto;padding:10px}
  .msg{margin-bottom:12px;line-height:1.4}
  .user span{background:#cce5ff;padding:8px 12px;border-radius:10px 10px 0 10px;display:inline-block;float:right}
  .bot  span{background:#eee;padding:8px 12px;border-radius:10px 10px 10px 0;display:inline-block}
</style>
</head>
<body>

<div class="panel">
  <h1>Ingresa tu ecuaci√≥n (ahora admite fracciones)</h1>
  <input type="text" id="ecuacion" value="-3/4x^2 + 5/6x - 7/8">
  <button onclick="resolver()">Resolver y graficar</button>

  <div id="resultados"></div>
  <canvas id="grafico"></canvas>
</div>

<div class="chat-container">
  <div class="chat-header">ü§ñ Bot Matem√°tico</div>
  <div id="chat" class="chat-body"></div>
</div>

<script>
let chart;
const chatBody = document.getElementById('chat');

function addMsg(sender, text){
  const div = document.createElement('div');
  div.className = 'msg '+sender;
  div.innerHTML = `<span>${text}</span>`;
  chatBody.appendChild(div);
  chatBody.scrollTop = chatBody.scrollHeight;
}
function speak(text){
  if(!('speechSynthesis' in window)) return;
  const u = new SpeechSynthesisUtterance(
